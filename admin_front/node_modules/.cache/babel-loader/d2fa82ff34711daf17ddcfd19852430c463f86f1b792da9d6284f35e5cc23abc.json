{"ast":null,"code":"import axios from \"axios\";\nimport { API } from \"../API\";\nimport { UnauthorizedError, UnknownError } from \"./errors\";\nexport class UsersRepository {\n  async fetch(sessionToken) {\n    try {\n      const response = await axios.get(API.createURL(API.URL.users()), {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"X-SOEUR-ADMIN-API-Key\": \"hogehoge\",\n          Authorization: `Bearer ${sessionToken}`\n        }\n      });\n      console.log(\"API response:\", response);\n      if (response.status === 200) {\n        return response;\n      }\n      if (response.status === 401) {\n        throw new UnauthorizedError();\n      }\n      throw new UnknownError();\n    } catch (error) {\n      console.error(error);\n      throw error;\n    }\n  }\n}","map":{"version":3,"names":["axios","API","UnauthorizedError","UnknownError","UsersRepository","fetch","sessionToken","response","get","createURL","URL","users","headers","Accept","Authorization","console","log","status","error"],"sources":["/usr/src/app/admin_front/src/infrastructure/repositories/UsersRepository.ts"],"sourcesContent":["import axios from \"axios\";\nimport { API } from \"../API\";\nimport { UnauthorizedError, UnknownError } from \"./errors\";\n\nexport class UsersRepository {\n  async fetch(sessionToken: string): Promise<any> {\n    try {\n      const response = await axios.get(API.createURL(API.URL.users()), {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"X-SOEUR-ADMIN-API-Key\": \"hogehoge\",\n          Authorization: `Bearer ${sessionToken}`,\n        },\n      });\n      console.log(\"API response:\", response);\n\n      if (response.status === 200) {\n        return response;\n      }\n\n      if (response.status === 401) {\n        throw new UnauthorizedError();\n      }\n\n      throw new UnknownError();\n    } catch (error) {\n      console.error(error);\n      throw error;\n    }\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,QAAQ,QAAQ;AAC5B,SAASC,iBAAiB,EAAEC,YAAY,QAAQ,UAAU;AAE1D,OAAO,MAAMC,eAAe,CAAC;EAC3B,MAAMC,KAAKA,CAACC,YAAoB,EAAgB;IAC9C,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAACP,GAAG,CAACQ,SAAS,CAACR,GAAG,CAACS,GAAG,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE;QAC/DC,OAAO,EAAE;UACPC,MAAM,EAAE,kBAAkB;UAC1B,cAAc,EAAE,kBAAkB;UAClC,uBAAuB,EAAE,UAAU;UACnCC,aAAa,EAAG,UAASR,YAAa;QACxC;MACF,CAAC,CAAC;MACFS,OAAO,CAACC,GAAG,CAAC,eAAe,EAAET,QAAQ,CAAC;MAEtC,IAAIA,QAAQ,CAACU,MAAM,KAAK,GAAG,EAAE;QAC3B,OAAOV,QAAQ;MACjB;MAEA,IAAIA,QAAQ,CAACU,MAAM,KAAK,GAAG,EAAE;QAC3B,MAAM,IAAIf,iBAAiB,CAAC,CAAC;MAC/B;MAEA,MAAM,IAAIC,YAAY,CAAC,CAAC;IAC1B,CAAC,CAAC,OAAOe,KAAK,EAAE;MACdH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;MACpB,MAAMA,KAAK;IACb;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}