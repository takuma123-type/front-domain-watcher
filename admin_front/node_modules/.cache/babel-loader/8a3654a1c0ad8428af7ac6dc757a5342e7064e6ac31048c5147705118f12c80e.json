{"ast":null,"code":"import { UserItem } from \"../models/presentation/UserItem\";\nexport class FetchUsersUsecase {\n  constructor(usersRepository) {\n    this.usersRepository = usersRepository;\n  }\n  async fetch(sessionToken) {\n    try {\n      const data = await this.usersRepository.fetch(sessionToken);\n      const users = data.results.map(user => new UserItem(user));\n      return new FetchUsersOutput(users);\n    } catch (e) {\n      console.error(\"Usecase Error:\", e.message);\n      if (e instanceof UnauthorizedError) {\n        Storage.clear();\n      }\n      throw e;\n    }\n  }\n}","map":{"version":3,"names":["UserItem","FetchUsersUsecase","constructor","usersRepository","fetch","sessionToken","data","users","results","map","user","FetchUsersOutput","e","console","error","message","UnauthorizedError","Storage","clear"],"sources":["/usr/src/app/admin_front/src/usecases/FetchUsersUsecase.tsx"],"sourcesContent":["import { UsersRepository } from \"../infrastructure/repositories/UsersRepository\";\nimport { UserItem } from \"../models/presentation/UserItem\";\n\ninterface User {\n  id: number;\n  code: string;\n  name: string;\n  status: string;\n  email: string;\n}\n\nexport class FetchUsersUsecase {\n  constructor(private readonly usersRepository: UsersRepository) {}\n\n  async fetch(sessionToken: string): Promise<FetchUsersOutput> {\n    try {\n      const data = await this.usersRepository.fetch(sessionToken);\n      const users = data.results.map((user: User) => new UserItem(user));\n      return new FetchUsersOutput(users);\n    } catch (e) {\n      console.error(\"Usecase Error:\", e.message);\n      if (e instanceof UnauthorizedError) {\n        Storage.clear();\n      }\n      throw e;\n    }\n  }\n}\n"],"mappings":"AACA,SAASA,QAAQ,QAAQ,iCAAiC;AAU1D,OAAO,MAAMC,iBAAiB,CAAC;EAC7BC,WAAWA,CAAkBC,eAAgC,EAAE;IAAA,KAAlCA,eAAgC,GAAhCA,eAAgC;EAAG;EAEhE,MAAMC,KAAKA,CAACC,YAAoB,EAA6B;IAC3D,IAAI;MACF,MAAMC,IAAI,GAAG,MAAM,IAAI,CAACH,eAAe,CAACC,KAAK,CAACC,YAAY,CAAC;MAC3D,MAAME,KAAK,GAAGD,IAAI,CAACE,OAAO,CAACC,GAAG,CAAEC,IAAU,IAAK,IAAIV,QAAQ,CAACU,IAAI,CAAC,CAAC;MAClE,OAAO,IAAIC,gBAAgB,CAACJ,KAAK,CAAC;IACpC,CAAC,CAAC,OAAOK,CAAC,EAAE;MACVC,OAAO,CAACC,KAAK,CAAC,gBAAgB,EAAEF,CAAC,CAACG,OAAO,CAAC;MAC1C,IAAIH,CAAC,YAAYI,iBAAiB,EAAE;QAClCC,OAAO,CAACC,KAAK,CAAC,CAAC;MACjB;MACA,MAAMN,CAAC;IACT;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}