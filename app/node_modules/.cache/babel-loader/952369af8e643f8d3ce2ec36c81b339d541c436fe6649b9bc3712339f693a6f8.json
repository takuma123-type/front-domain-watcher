{"ast":null,"code":"import { API } from \"../API\";\nimport { axiosClient } from \"../axiosClient\";\nimport axios from \"axios\";\nimport { UnauthorizedError, UnknownError } from \"./errors\";\nexport class ChatRepository {\n  async post(prompt) {\n    try {\n      const response = await axiosClient.post(API.createURL(API.URL.chat()), {\n        prompt: prompt\n      }, {\n        withCredentials: true,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (response && response.status === 200) {\n        return response.data;\n      }\n      throw new UnknownError();\n    } catch (error) {\n      if (axios.isAxiosError(error) && error.response && error.response.status === 401) {\n        throw new UnauthorizedError();\n      }\n      throw error;\n    }\n  }\n}","map":{"version":3,"names":["API","axiosClient","axios","UnauthorizedError","UnknownError","ChatRepository","post","prompt","response","createURL","URL","chat","withCredentials","headers","Accept","status","data","error","isAxiosError"],"sources":["/usr/src/app/admin_front/src/infrastructure/repositories/ChatRepository.ts"],"sourcesContent":["import { API } from \"../API\";\nimport { axiosClient } from \"../axiosClient\";\nimport axios from \"axios\";\nimport { UnauthorizedError, UnknownError } from \"./errors\";\n\nexport class ChatRepository {\n  async post(prompt: string): Promise<any> {\n    try {\n      const response = await axiosClient.post(\n        API.createURL(API.URL.chat()),\n        { prompt: prompt },\n        {\n          withCredentials: true,\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      if (response && response.status === 200) {\n        return response.data;\n      }\n\n      throw new UnknownError();\n    } catch (error) {\n      if (axios.isAxiosError(error) && error.response && error.response.status === 401) {\n        throw new UnauthorizedError();\n      }\n      throw error;\n    }\n  }\n}\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,QAAQ;AAC5B,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,iBAAiB,EAAEC,YAAY,QAAQ,UAAU;AAE1D,OAAO,MAAMC,cAAc,CAAC;EAC1B,MAAMC,IAAIA,CAACC,MAAc,EAAgB;IACvC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMP,WAAW,CAACK,IAAI,CACrCN,GAAG,CAACS,SAAS,CAACT,GAAG,CAACU,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,EAC7B;QAAEJ,MAAM,EAAEA;MAAO,CAAC,EAClB;QACEK,eAAe,EAAE,IAAI;QACrBC,OAAO,EAAE;UACPC,MAAM,EAAE,kBAAkB;UAC1B,cAAc,EAAE;QAClB;MACF,CACF,CAAC;MAED,IAAIN,QAAQ,IAAIA,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;QACvC,OAAOP,QAAQ,CAACQ,IAAI;MACtB;MAEA,MAAM,IAAIZ,YAAY,CAAC,CAAC;IAC1B,CAAC,CAAC,OAAOa,KAAK,EAAE;MACd,IAAIf,KAAK,CAACgB,YAAY,CAACD,KAAK,CAAC,IAAIA,KAAK,CAACT,QAAQ,IAAIS,KAAK,CAACT,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;QAChF,MAAM,IAAIZ,iBAAiB,CAAC,CAAC;MAC/B;MACA,MAAMc,KAAK;IACb;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}